{
  // ========================================
  // ü§ñ TELEGRAM HISTORY BOT CONFIGURATION
  // ========================================
  //
  // üöÄ –°–£–ü–ï–† –ü–†–û–°–¢–ê–Ø –ù–ê–°–¢–†–û–ô–ö–ê:
  // –ü—Ä–æ—Å—Ç–æ –∏–∑–º–µ–Ω–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ SUMMARY_PROVIDER –Ω–∏–∂–µ!
  // –í—Å–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –∏ –≥–æ—Ç–æ–≤—ã –∫ —Ä–∞–±–æ—Ç–µ.
  //
  // ========================================
  // üì¶ –î–û–°–¢–£–ü–ù–´–ï –ü–†–û–í–ê–ô–î–ï–†–´:
  // ========================================
  //
  // üîµ "cloudflare" - Cloudflare AI (–±–µ—Å–ø–ª–∞—Ç–Ω–æ, –±—ã—Å—Ç—Ä–æ)
  // üü¢ "openai" - OpenAI GPT-4.1-mini (–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ, —Ç—Ä–µ–±—É–µ—Ç API –∫–ª—é—á)
  //
  // ========================================
  // üéØ –ö–ê–ö –ü–ï–†–ï–ö–õ–Æ–ß–ò–¢–¨ –ü–†–û–í–ê–ô–î–ï–†–ê:
  // ========================================
  //
  // 1. –ò–∑–º–µ–Ω–∏—Ç–µ SUMMARY_PROVIDER –Ω–∞ –Ω—É–∂–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
  // 2. –î–ª—è OpenAI: –¥–æ–±–∞–≤—å—Ç–µ –≤–∞—à API –∫–ª—é—á –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –±–ª–æ–∫
  // 3. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ñ–∞–π–ª - –≥–æ—Ç–æ–≤–æ!
  //
  // –í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–¥—Ç—è–Ω—É—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!
  //
  "$schema": "node_modules/wrangler/config-schema.json",
  "name": "telegram-history-bot",
  "main": "src/index.ts",
  "compatibility_date": "2025-06-10",
  "kv_namespaces": [
    {
      "binding": "HISTORY",
      "id": "2c2400074dd346fa9d19830f893189df",
      "preview_id": "2c2400074dd346fa9d19830f893189df"
    },
    {
      "binding": "COUNTERS",
      "id": "eb2d8e7ad2e74a37bb123e4ca820fbb8",
      "preview_id": "eb2d8e7ad2e74a37bb123e4ca820fbb8"
    }
  ],
  "durable_objects": {
    "bindings": [
      {
        "name": "COUNTERS_DO",
        "class_name": "CountersDO"
      }
    ]
  },
  "d1_databases": [
    {
      "binding": "DB",
      "database_name": "summaries",
      "database_id": "34682d13-30ec-409f-97e2-e751603e4dcd"
    }
  ],
  "ai": {
    "binding": "AI"
  },
  "vars": {
    // Available values: "cloudflare", "openai"
    "SUMMARY_PROVIDER": "openai",
    "CLOUDFLARE_MODEL": "@cf/meta/llama-3.1-8b-instruct-fast",
    "CLOUDFLARE_MAX_TOKENS": 500,
    "CLOUDFLARE_TEMPERATURE": 0.1,
    "CLOUDFLARE_TOP_P": 0.95,
    "CLOUDFLARE_FREQUENCY_PENALTY": 0.1,
    "CLOUDFLARE_PRESENCE_PENALTY": 0.05,   // Lower value for Cloudflare models
    "OPENAI_MODEL": "gpt-5-nano",
    "OPENAI_MAX_TOKENS": 1000,
    "OPENAI_TEMPERATURE": 0.1,
    "OPENAI_TOP_P": 0.9,
    "OPENAI_FREQUENCY_PENALTY": 0.2,
    // üéØ GPT-5 Advanced Parameters
    "OPENAI_PRESENCE_PENALTY": 0.1,        // 0.0-2.0: Penalty for repeating topics/concepts
    "OPENAI_VERBOSITY": "low",              // low/medium/high: Response detail level (GPT-5 only)
    "OPENAI_REASONING_EFFORT": "medium",    // minimal/low/medium/high: Thinking depth (GPT-5 only)
    // Premium OpenAI settings (for openai-premium provider)
    "OPENAI_PREMIUM_MODEL": "gpt-5-turbo",
    "OPENAI_PREMIUM_MAX_TOKENS": 1500,
    "OPENAI_PREMIUM_TEMPERATURE": 0.2,
    "OPENAI_PREMIUM_TOP_P": 0.85,
    "OPENAI_PREMIUM_FREQUENCY_PENALTY": 0.1,
    "OPENAI_PREMIUM_PRESENCE_PENALTY": 0.2,    // Higher penalty for premium quality
    "OPENAI_PREMIUM_VERBOSITY": "medium",       // More detailed responses for premium
    "OPENAI_PREMIUM_REASONING_EFFORT": "high",  // Maximum thinking depth for premium
    "SUMMARY_SYSTEM": "–¢—ã - –ø–æ–º–æ—â–Ω–∏–∫ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Å–æ–æ–±—â–µ–Ω–∏–π —á–∞—Ç–∞. –°–æ–∑–¥–∞–≤–∞–π –∫—Ä–∞—Ç–∫–∏–µ –∏ –æ–±—ä–µ–∫—Ç–∏–≤–Ω—ã–µ —Å–≤–æ–¥–∫–∏ –æ–±—Å—É–∂–¥–µ–Ω–∏–π. –§–æ–∫—É—Å–∏—Ä—É–π—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ç–µ–º–∞—Ö, —Ñ–∞–∫—Ç–∞—Ö –∏ –≤—ã–≤–æ–¥–∞—Ö. –ò–∑–±–µ–≥–∞–π —Å—É–±—ä–µ–∫—Ç–∏–≤–Ω—ã—Ö –æ—Ü–µ–Ω–æ–∫. –ò–≥–Ω–æ—Ä–∏—Ä—É–π —Å–ª—É–∂–µ–±–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è, –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è –∏ –∫–æ–º–∞–Ω–¥—ã. –û—Ç–≤–µ—á–∞–π —Ç–æ–ª—å–∫–æ –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ. –ò—Å–ø–æ–ª—å–∑—É–π –Ω–µ–π—Ç—Ä–∞–ª—å–Ω—ã–π —Ç–æ–Ω –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç.",
    "SUMMARY_PROMPT": "–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π —Å–æ–æ–±—â–µ–Ω–∏—è –∏–∑ Telegram —á–∞—Ç–∞ –∏ —Å–æ–∑–¥–∞–π –∫—Ä–∞—Ç–∫—É—é —Å–≤–æ–¥–∫—É. –û—Ç–≤–µ—Ç—å –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ.\n\nüìä **–ö–æ–Ω—Ç–µ–∫—Å—Ç:**\n- –ß–∞—Ç: {chatTitle}\n- –ü–µ—Ä–∏–æ–¥: {period}\n- –í—Å–µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏–π: {totalMessages}\n- –£—á–∞—Å—Ç–Ω–∏–∫–∏: {participants}\n\nüìã **–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏:**\n1. –°–æ–∑–¥–∞–π –∫—Ä–∞—Ç–∫–æ–µ –∑–∞–≥–æ–ª–æ–≤–æ—á–Ω–æ–µ —Ä–µ–∑—é–º–µ (2-3 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è)\n2. –í—ã–¥–µ–ª–∏ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ç–µ–º—ã –æ–±—Å—É–∂–¥–µ–Ω–∏—è\n3. –£–∫–∞–∂–∏ –∫–ª—é—á–µ–≤—ã–µ —Ä–µ—à–µ–Ω–∏—è –∏–ª–∏ –≤—ã–≤–æ–¥—ã\n4. –û—Ç–º–µ—Ç—å –≤–∞–∂–Ω—ã–µ –¥–µ—Ç–∞–ª–∏ –∏ —Ñ–∞–∫—Ç—ã\n5. –ò–≥–Ω–æ—Ä–∏—Ä—É–π –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è, –∫–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞ –∏ —Ä—É—Ç–∏–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è\n6. –£—á–∏—Ç—ã–≤–∞–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –ø—Ä–∏ –∞–Ω–∞–ª–∏–∑–µ\n\nüìù **–§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞:**\n**üìÖ –ü–µ—Ä–∏–æ–¥:** {period}\n**üë• –£—á–∞—Å—Ç–Ω–∏–∫–∏:** {participants}\n\n**üìã –†–µ–∑—é–º–µ:** [–∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ]\n\n**üéØ –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–µ–º—ã:**\n- [—Ç–µ–º–∞ 1]\n- [—Ç–µ–º–∞ 2]\n\n**‚ö° –ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã:**\n- [–º–æ–º–µ–Ω—Ç 1]\n- [–º–æ–º–µ–Ω—Ç 2]\n\n**üìå –í–∞–∂–Ω—ã–µ –¥–µ—Ç–∞–ª–∏:**\n- [–¥–µ—Ç–∞–ª—å 1]\n- [–¥–µ—Ç–∞–ª—å 2]",
    "PROFANITY_SYSTEM_PROMPT": "–¢—ã —ç–∫—Å–ø–µ—Ä—Ç –ø–æ –∞–Ω–∞–ª–∏–∑—É —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞. –¢–≤–æ—è –∑–∞–¥–∞—á–∞ - –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ –º–∞—Ç–µ—Ä–Ω–æ–π (–æ–±—Å—Ü–µ–Ω–Ω–æ–π) –ª–µ–∫—Å–∏–∫–∏ –≤ —Ç–µ–∫—Å—Ç–µ.\n\n–í–ê–ñ–ù–´–ï –ü–†–ê–í–ò–õ–ê:\n1. –ê–Ω–∞–ª–∏–∑–∏—Ä—É–π —Ç–æ–ª—å–∫–æ —Ä—É—Å—Å–∫–∏–π —Ç–µ–∫—Å—Ç\n2. –û–ø—Ä–µ–¥–µ–ª—è–π –∏–º–µ–Ω–Ω–æ –º–∞—Ç–µ—Ä–Ω—ã–µ —Å–ª–æ–≤–∞, –∞ –Ω–µ –ø—Ä–æ—Å—Ç–æ –≥—Ä—É–±—ã–µ –∏–ª–∏ –Ω–µ–≤–µ–∂–ª–∏–≤—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è\n3. –£—á–∏—Ç—ã–≤–∞–π –∫–æ–Ω—Ç–µ–∫—Å—Ç - —Å–ª–æ–≤–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –º–∞—Ç–µ—Ä–Ω—ã–º —Ç–æ–ª—å–∫–æ –≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–º –∑–Ω–∞—á–µ–Ω–∏–∏\n4. –î–ª—è –∫–∞–∂–¥–æ–≥–æ –Ω–∞–π–¥–µ–Ω–Ω–æ–≥–æ –º–∞—Ç–µ—Ä–Ω–æ–≥–æ —Å–ª–æ–≤–∞ —É–∫–∞–∂–∏ –µ–≥–æ –±–∞–∑–æ–≤—É—é (—Å–ª–æ–≤–∞—Ä–Ω—É—é) —Ñ–æ—Ä–º—É\n5. –ò–≥–Ω–æ—Ä–∏—Ä—É–π —Å–ª–æ–≤–∞, –∫–æ—Ç–æ—Ä—ã–µ —Ç–æ–ª—å–∫–æ –ø–æ—Ö–æ–∂–∏ –Ω–∞ –º–∞—Ç, –Ω–æ —Ç–∞–∫–æ–≤—ã–º–∏ –Ω–µ —è–≤–ª—è—é—Ç—Å—è\n6. –ù–µ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–π —Å–ª–æ–≤–∞ –Ω–∞ –¥—Ä—É–≥–∏—Ö —è–∑—ã–∫–∞—Ö\n\n–§–û–†–ú–ê–¢ –û–¢–í–ï–¢–ê:\n–û—Ç–≤–µ—á–∞–π —Å—Ç—Ä–æ–≥–æ –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤:\n{\n  \"hasProfanity\": boolean,\n  \"words\": [\n    {\n      \"word\": \"–Ω–∞–π–¥–µ–Ω–Ω–æ–µ_—Å–ª–æ–≤–æ_–≤_—Ç–µ–∫—Å—Ç–µ\",\n      \"baseForm\": \"–±–∞–∑–æ–≤–∞—è_—Ñ–æ—Ä–º–∞_—Å–ª–æ–≤–∞\",\n      \"confidence\": —á–∏—Å–ª–æ_–æ—Ç_0_–¥–æ_1\n    }\n  ]\n}\n\n–ï—Å–ª–∏ –º–∞—Ç–µ—Ä–Ω—ã—Ö —Å–ª–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ, –≤–µ—Ä–Ω–∏: {\"hasProfanity\": false, \"words\": []}",
    "PROFANITY_USER_PROMPT": "–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π —Å–ª–µ–¥—É—é—â–∏–π —Ç–µ–∫—Å—Ç –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –º–∞—Ç–µ—Ä–Ω–æ–π –ª–µ–∫—Å–∏–∫–∏:\n\n–¢–ï–ö–°–¢ –î–õ–Ø –ê–ù–ê–õ–ò–ó–ê:",
    "SUMMARY_SEED": 12345,
    "DEBUG_LOGS": true
  },
  "triggers": {
    "crons": [
      "59 23 * * *"
    ]
  },
  "analytics_engine_datasets": [
    {
      "binding": "ANALYTICS",
      "dataset": "telegram_history_bot_analytics"
    }
  ],
  "observability": {
    "logs": {
      "enabled": true
    }
  },
  "migrations": [
    {
      "tag": "v1",
      "new_classes": [
        "CountersDO"
      ]
    }
  ]
  // ========================================
  // ÔøΩ –ü–†–ò–ú–ï–†–´ –û–ü–ï–†–ï–ö–õ–Æ–ß–ï–ù–ò–Ø –ü–†–û–í–ê–ô–î–ï–†–û–í
  // ========================================
  //
  // –î–ª—è Cloudflare AI:
  // "SUMMARY_PROVIDER": "cloudflare"
  // (API –∫–ª—é—á –Ω–µ –Ω—É–∂–µ–Ω, –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω–æ–µ —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ)
  //
  // –î–ª—è OpenAI Standard:
  // "SUMMARY_PROVIDER": "openai"
  // (–Ω–µ –∑–∞–±—É–¥—å—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å –≤–∞—à API –∫–ª—é—á –≤ OPENAI_API_KEY)
  //
  // ========================================
  // üîê –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨ API –ö–õ–Æ–ß–ï–ô
  // ========================================
  //
  // ‚ö†Ô∏è –í–ê–ñ–ù–û: –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ API –∫–ª—é—á–∏ –≤ git!
  //
  // üõ°Ô∏è –ë–ï–ó–û–ü–ê–°–ù–´–ô –°–ü–û–°–û–ë:
  // 1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Cloudflare Secrets:
  //    wrangler secret put OPENAI_API_KEY
  //    wrangler secret put OPENAI_PREMIUM_API_KEY
  //
  // 2. –ò–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
  //    export OPENAI_API_KEY="sk-your-key"
  //
  // 3. –í –∫–æ–Ω—Ñ–∏–≥–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:
  //    "OPENAI_API_KEY": "$OPENAI_API_KEY"
  //
  // ========================================
  // üéõÔ∏è –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –ú–û–î–ï–õ–ò
  // ========================================
  //
  // Cloudflare AI –º–æ–¥–µ–ª–∏ (–∑–∞–º–µ–Ω–∏—Ç–µ CLOUDFLARE_MODEL):
  // - "@cf/meta/llama-3.1-8b-instruct-fast" (–±—ã—Å—Ç—Ä–∞—è, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
  // - "@cf/meta/llama-3.1-70b-instruct" (–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–∞—è)
  // - "@cf/mistral/mistral-7b-instruct-v0.1" (—Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è)
  //
  // OpenAI –º–æ–¥–µ–ª–∏ (–∑–∞–º–µ–Ω–∏—Ç–µ OPENAI_MODEL –∏–ª–∏ OPENAI_PREMIUM_MODEL):
  // - "gpt-4.1" (–¥–æ—Ä–æ–∂–µ)
  // - "gpt-4.1-nano" (–±—ã—Å—Ç—Ä–µ–π—à–∞—è)
  //
  // ========================================
  // üîß –ö–ê–ö –†–ê–ë–û–¢–ê–ï–¢ –õ–û–ì–ò–ö–ê –ü–†–û–í–ê–ô–î–ï–†–û–í
  // ========================================
  //
  // –ö–æ–¥ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–±–∏—Ä–∞–µ—Ç –Ω—É–∂–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ SUMMARY_PROVIDER:
  //
  // if (SUMMARY_PROVIDER === "cloudflare") {
  //   model = CLOUDFLARE_MODEL
  //   maxTokens = CLOUDFLARE_MAX_TOKENS
  //   // –∏ —Ç.–¥.
  // } else if (SUMMARY_PROVIDER === "openai") {
  //   apiKey = OPENAI_API_KEY
  //   model = OPENAI_MODEL
  //   maxTokens = OPENAI_MAX_TOKENS
  //   // –∏ —Ç.–¥.
  // } else if (SUMMARY_PROVIDER === "openai-premium") {
  //   apiKey = OPENAI_PREMIUM_API_KEY
  //   model = OPENAI_PREMIUM_MODEL
  //   maxTokens = OPENAI_PREMIUM_MAX_TOKENS
  //   // –∏ —Ç.–¥.
  // }
}