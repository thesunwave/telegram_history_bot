# Исправление обработки пустых ответов OpenAI при анализе матерных слов

## Проблема
OpenAI возвращал пустые ответы (`""`) вместо JSON когда находил матерные слова, что приводило к ошибке парсинга:
```
error:"Unexpected end of JSON input",rawResponse:"",provider:"openai",message:"OpenAI profanity analysis: response parsing failed"
```

## Причина
OpenAI применяет фильтры безопасности и может возвращать:
1. Пустой ответ (`content: ""`) когда контент содержит матерные слова
2. `finish_reason: "content_filter"` когда контент был отфильтрован

## Решение

### 1. Добавлен метод `Logger.warn()` 
В `src/logger.ts` добавлен недостающий метод для логирования предупреждений.

### 2. Улучшена обработка в `analyzeProfanity()`
В `src/providers/openai-provider.ts`:
- Добавлена проверка `finish_reason === 'content_filter'`
- Возвращается результат с `hasProfanity: true` и специальным маркером `[content_filtered]`

### 3. Улучшена обработка в `parseProfanityResponse()`
- Добавлена проверка на пустой ответ в начале метода
- Пустой ответ интерпретируется как найденная матерщина (консервативный подход)
- Возвращается результат с маркером `[filtered]` и высокой уверенностью (0.8)
- Улучшено логирование для отладки

### 4. Добавлены тесты
В `tests/providers/openai-provider.test.ts` добавлены тесты для:
- Обработки пустого ответа как отфильтрованной матерщины
- Обработки `content_filter` finish reason
- Обработки некорректного JSON

## Результат
Теперь система корректно обрабатывает случаи когда OpenAI фильтрует матерные слова:
- Пустые ответы интерпретируются как найденная матерщина
- Нет ошибок парсинга JSON
- Логируются предупреждения для отладки
- Все тесты проходят успешно

## Безопасность
Используется консервативный подход - если OpenAI отфильтровал контент, считаем что матерщина найдена. Это предотвращает ложные негативы в системе модерации.